<!DOCTYPE html>
<html lang="ko">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>OTT Íµ¨ÎèÖ Í¥ÄÎ¶¨</title>
<style>
body { font-family: 'Segoe UI', sans-serif; margin:0; padding:0; background:#141414; color:white; transition:0.3s; }
header { background:#E50914; color:white; text-align:center; padding:20px; font-size:1.8em; font-weight:bold; position:relative; }
header button { position:absolute; right:20px; top:20px; padding:6px 12px; border:none; border-radius:6px; cursor:pointer; background:#fff; color:#E50914; font-weight:bold; transition:0.2s; }
header button:hover { background:#ddd; }
main { max-width:1200px; margin:20px auto; padding:0 15px; }
section { margin-bottom:40px; }
h2 { border-left:6px solid #E50914; padding-left:10px; color:white; margin-bottom:15px; }
.tabs { display:flex; gap:15px; margin-bottom:15px; flex-wrap:wrap; }
.tab-btn { padding:8px 15px; border:none; border-radius:6px; cursor:pointer; background:#333; color:white; transition:0.2s; font-weight:bold; }
.tab-btn.active { background:#E50914; color:white; }
.cards { display:flex; flex-wrap:wrap; gap:15px; }
.card { background:#1e1e1e; border-radius:12px; padding:15px; flex:1 1 250px; box-shadow:0 6px 20px rgba(0,0,0,0.6); transition:0.2s; display:flex; flex-direction:column; cursor:pointer; }
.card:hover { transform:translateY(-5px); box-shadow:0 8px 24px rgba(0,0,0,0.8); }
.card img { width:100%; height:100px; object-fit:contain; margin-bottom:10px; }
.card h3 { margin:0 0 10px 0; color:white; font-size:1.1em; }
.card button { background:#E50914; color:white; border:none; border-radius:6px; padding:8px 12px; cursor:pointer; margin-top:5px; font-weight:bold; transition:0.2s; }
.card button:hover { background:#B00610; }
.plan-desc { font-size:12px; color:#bbb; margin-top:2px; }
.subscription, .unused-card { display:flex; justify-content:space-between; align-items:center; padding:10px; background:#1e1e1e; border-radius:12px; box-shadow:0 4px 12px rgba(0,0,0,0.6); flex:1 1 200px; margin-bottom:8px; }
.subscription:hover, .unused-card:hover { background:#2a2a2a; }
.unused-card { background:#2a1e1e; }
.delete-btn { background:#B00610; color:white; border:none; border-radius:6px; padding:5px 10px; cursor:pointer; transition:0.2s; }
.delete-btn:hover { background:#E50914; }
.total { text-align:right; font-size:1.2em; font-weight:bold; margin-top:10px; }
.modal { display:none; position:fixed; top:0; left:0; width:100%; height:100%; background:rgba(0,0,0,0.7); justify-content:center; align-items:center; z-index:1000; }
.modal-content { background:#1e1e1e; padding:20px; border-radius:12px; max-width:400px; width:90%; position:relative; display:flex; flex-direction:column; gap:10px; box-shadow:0 8px 24px rgba(0,0,0,0.8); }
.modal-close { position:absolute; top:10px; right:10px; cursor:pointer; font-weight:bold; color:#fff; font-size:1.2em; }
#modalAddBtn { background:#E50914; color:white; border:none; border-radius:6px; padding:5px 10px; cursor:pointer; transition:0.2s; }
#modalAddBtn:hover { background:#B00610; color:white; border:none; border-radius:6px; padding:5px 10px; cursor:pointer; transition:0.2s; }
#modalLogo { width:120px; margin:0 auto; display:block; margin-bottom:10px; }
#history { margin-top:20px; }
#history h3 { margin-bottom:10px; }
#history ul { padding-left:20px; }
input { padding:6px 10px; border-radius:6px; border:1px solid #444; background:#1e1e1e; color:white; width:100%; margin-bottom:10px; }
input::placeholder { color:#bbb; }
body.light { background:#f2f3f5; color:#333; }
body.light .card, body.light .subscription, body.light .unused-card, body.light .modal-content { background:white; color:#333; box-shadow:0 4px 12px rgba(0,0,0,0.1); }
body.light header { background:#E50914; color:white; }
body.light .tab-btn { background:#ddd; color:#333; }
body.light .tab-btn.active { background:#E50914; color:white; }
body.light header button { background:#E50914; color:white; }
body.light .card button { background:#E50914; color:white; }
body.light .card button:hover { background:#B00610; }
</style>
</head>
<body>
<header>
  OTT Íµ¨ÎèÖ Í¥ÄÎ¶¨
  <button onclick="toggleTheme()">üåô ÌÖåÎßà</button>
</header>
<main>
  <section>
    <div class="tabs">
      <button class="tab-btn active" data-tab="all" onclick="switchTab('all')">Ï†ÑÏ≤¥ OTT</button>
      <button class="tab-btn" data-tab="my" onclick="switchTab('my')">ÎÇ¥ Íµ¨ÎèÖ</button>
      <button class="tab-btn" data-tab="unused" onclick="switchTab('unused')">ÏÇ¨Ïö©ÌïòÏßÄ ÏïäÎäî OTT</button>
    </div>
    <input type="text" id="searchInput" placeholder="OTT Ïù¥Î¶Ñ Í≤ÄÏÉâ..." onkeyup="filterServices()">
    <div id="allServices" class="cards"></div>
    <div id="mySubscriptions" class="cards" style="display:none;"></div>
    <div id="unusedServices" class="cards" style="display:none;"></div>
    <div id="recommendServices" class="cards" style="display:none;"></div>
    <p class="total">Ï¥ù Í∏àÏï°: <span id="totalPrice">0</span>Ïõê</p>
    <p class="total">ÏÇ¨Ïö©ÌïòÏßÄ ÏïäÎäî OTT Ìï©Í≥Ñ: <span id="unusedTotal">0</span>Ïõê</p>
    <div id="history">
      <h3>ÏµúÍ∑º Í∏∞Î°ù</h3>
      <ul id="historyList"></ul>
    </div>
  </section>
</main>

<div id="modal" class="modal">
  <div class="modal-content">
    <span class="modal-close" onclick="closeModal()">‚úñ</span>
    <img id="modalLogo" src="" alt="OTT Logo">
    <h3 id="modalTitle"></h3>
    <p id="modalDesc"></p>
    <p id="modalPrice" style="font-weight:bold;"></p>
    <button id="modalAddBtn">ÎÇ¥ Íµ¨ÎèÖÏóê Ï∂îÍ∞Ä</button>
  </div>
</div>

<script>
// CDN Î°úÍ≥† ÏÇ¨Ïö© (ÌçºÎ∏îÎ¶≠ Ìè¥Îçî ÏóÜÏñ¥ÎèÑ Îê®)
const ottLogos = {
  "Netflix": "https://upload.wikimedia.org/wikipedia/commons/0/08/Netflix_2015_logo.svg",
  "Disney+": "https://upload.wikimedia.org/wikipedia/commons/3/3e/Disney%2B_logo.svg",
  "Wavve": "logos/wavve.svg",
  "Watcha": "logos/Watcha.svg",
  "AppleTV+": "logos/Apple.svg",
  "Amazon Prime": "logos/Amazon Prime.png"
};

const allServices = [
  { service_name: "Netflix", plans: [ {plan_id:1, plan_name:"Basic", price:"7000"}, {plan_id:2, plan_name:"Standard", price:"13500"}, {plan_id:3, plan_name:"Premium", price:"17000"} ] },
  { service_name: "Disney+", plans:[ {plan_id:4, plan_name:"Standard", price:"9900"},{plan_id:10, plan_name:"Premium", price:"13900"} ] },
  { service_name: "Wavve", plans:[ {plan_id:5, plan_name:"Basic", price:"7900"}, {plan_id:6, plan_name:"Premium", price:"13900"},{plan_id:11, plan_name:"Standard", price:"10900"} ] },
  { service_name: "Watcha", plans:[ {plan_id:7, plan_name:"Basic", price:"7900"},{plan_id:12, plan_name:"Premium", price:"12900"} ] },
  { service_name: "AppleTV+", plans:[ {plan_id:8, plan_name:"Standard", price:"6500"} ] },
  { service_name: "Amazon Prime", plans:[ {plan_id:9, plan_name:"Standard", price:"21000"} ] }
];

const planDescriptions = {
  1:"Basic: SD ÌôîÏßà, 1Î™Ö ÎèôÏãú ÏãúÏ≤≠ Í∞ÄÎä•",
  2:"Standard: FHD, 2Î™Ö ÎèôÏãú ÏãúÏ≤≠ Í∞ÄÎä•",
  3:"Premium: 4K, 4Î™Ö ÎèôÏãú ÏãúÏ≤≠ Í∞ÄÎä•",
  4:"Disney+ Standard: FHD, 2Î™Ö ÎèôÏãú ÏãúÏ≤≠ Í∞ÄÎä•",
  5:"Wavve Basic: SD, 1Î™Ö ÎèôÏãú ÏãúÏ≤≠ Í∞ÄÎä•",
  6:"Wavve Premium: FHD, 4Î™Ö ÎèôÏãú ÏãúÏ≤≠ Í∞ÄÎä•",
  7:"Watcha Standard: FHD, 1Î™Ö ÎèôÏãú ÏãúÏ≤≠ Í∞ÄÎä•",
  8:"AppleTV+ Standard: FHD, 1Î™Ö ÎèôÏãú ÏãúÏ≤≠ Í∞ÄÎä•",
  9:"Amazon Prime Standard: FHD, 2Î™Ö ÎèôÏãú ÏãúÏ≤≠ Í∞ÄÎä•",
  10:"Disney+ Premium: 4K UHD, 4Î™Ö ÎèôÏãú ÏãúÏ≤≠ Í∞ÄÎä•",
  11:"Wavve Standard: FHD, 2Î™Ö ÎèôÏãú ÏãúÏ≤≠ Í∞ÄÎä• ",
  12:"Watcha Premium: 4K UHD, 4Î™Ö ÎèôÏãú ÏãúÏ≤≠ Í∞ÄÎä•"
};

let subscriptions=[], history=[];

// Î†åÎçîÎßÅ Ìï®Ïàò
function renderServices(services){
  const container=document.getElementById("allServices"); container.innerHTML="";
  services.forEach(s=>{
    const card=document.createElement("div"); card.className="card";
    const img=document.createElement("img"); img.src=ottLogos[s.service_name]; card.appendChild(img);
    const title=document.createElement("h3"); title.textContent=s.service_name; card.appendChild(title);
    s.plans.forEach(p=>{
      const btn=document.createElement("button");
      btn.textContent=`${p.plan_name} (${Number(p.price).toLocaleString()}Ïõê)`;
      btn.onclick=()=>openModal(s.service_name,p.plan_name,Number(p.price),p.plan_id);
      card.appendChild(btn);
      const desc=document.createElement("div"); desc.className="plan-desc"; desc.textContent=planDescriptions[p.plan_id];
      card.appendChild(desc);
    });
    container.appendChild(card);
  });
}

// Íµ¨ÎèÖ Ï∂îÍ∞Ä/ÏÇ≠Ï†ú
function addSubscription(plan_id, service, plan, price){
  subscriptions.push({subscription_id:Date.now(), service_name:service, plan_name:plan, price:price});
  history.unshift(`Ï∂îÍ∞Ä: ${service} - ${plan} (${price.toLocaleString()}Ïõê)`); if(history.length>10) history.pop();
  updateHistory(); renderSubscriptions(); renderUnused(); renderRecommend();
}

function deleteSubscription(id){
  const sub = subscriptions.find(s=>s.subscription_id===id);
  if(sub) { history.unshift(`ÏÇ≠Ï†ú: ${sub.service_name} - ${sub.plan_name} (${Number(sub.price).toLocaleString()}Ïõê)`); subscriptions=subscriptions.filter(s=>s.subscription_id!==id); }
  if(history.length>10) history.pop();
  updateHistory(); renderSubscriptions(); renderUnused(); renderRecommend();
}

// Î†åÎçîÎßÅ Íµ¨ÎèÖ
function renderSubscriptions(){
  const container=document.getElementById("mySubscriptions"); container.innerHTML="";
  let total=0;
  subscriptions.forEach(s=>{
    total+=Number(s.price);
    const div=document.createElement("div"); div.className="subscription";
    div.textContent=`${s.service_name} - ${s.plan_name} (${Number(s.price).toLocaleString()}Ïõê)`;
    const del=document.createElement("button"); del.className="delete-btn"; del.textContent="ÏÇ≠Ï†ú"; del.onclick=()=>deleteSubscription(s.subscription_id);
    div.appendChild(del);
    container.appendChild(div);
  });
  document.getElementById("totalPrice").textContent=total.toLocaleString();
}

// ÏÇ¨Ïö©ÌïòÏßÄ ÏïäÎäî OTT
function renderUnused(){
  const container=document.getElementById("unusedServices"); container.innerHTML="";
  let total=0;
  allServices.forEach(s=>{
    s.plans.forEach(p=>{
      const isUsed = subscriptions.some(sub=>sub.service_name===s.service_name && sub.plan_name===p.plan_name);
      if(!isUsed){
        total+=Number(p.price);
        const div=document.createElement("div"); div.className="unused-card";
        div.textContent=`${s.service_name} - ${p.plan_name} (${Number(p.price).toLocaleString()}Ïõê)`;
        container.appendChild(div);
      }
    });
  });
  document.getElementById("unusedTotal").textContent=total.toLocaleString();
}

// Ï∂îÏ≤ú (ÏûÑÏãú: Îß® Ï≤òÏùå 3Í∞ú)

// Î™®Îã¨
function openModal(service, plan, price, plan_id){
  document.getElementById("modalTitle").textContent=`${service} - ${plan}`;
  document.getElementById("modalDesc").textContent=planDescriptions[plan_id];
  document.getElementById("modalPrice").textContent=`Í∞ÄÍ≤©: ${price.toLocaleString()}Ïõê`;
  document.getElementById("modalLogo").src=ottLogos[service];
  document.getElementById("modal").style.display="flex";
  document.getElementById("modalAddBtn").onclick=()=>{ addSubscription(plan_id, service, plan, price); closeModal(); };
}
function closeModal(){ document.getElementById("modal").style.display="none"; }
function switchTab(tab){
  document.querySelectorAll(".tab-btn").forEach(b=>b.classList.remove("active"));
  document.querySelector(`.tab-btn[data-tab="${tab}"]`).classList.add("active");
  document.getElementById("allServices").style.display=tab==="all"?"flex":"none";
  document.getElementById("mySubscriptions").style.display=tab==="my"?"flex":"none";
  document.getElementById("unusedServices").style.display=tab==="unused"?"flex":"none";
  document.getElementById("recommendServices").style.display=tab==="recommend"?"flex":"none";
}
function filterServices(){
  const q=document.getElementById("searchInput").value.toLowerCase();
  renderServices(allServices.filter(s=>s.service_name.toLowerCase().includes(q)));
}
function toggleTheme(){ document.body.classList.toggle("light"); }
function updateHistory(){
  const ul=document.getElementById("historyList"); ul.innerHTML="";
  history.forEach(h=>{ const li=document.createElement("li"); li.textContent=h; ul.appendChild(li); });
}

// Ï¥àÍ∏∞ Î†åÎçîÎßÅ
renderServices(allServices);
renderSubscriptions();
renderUnused();
</script>
</body>
</html>
